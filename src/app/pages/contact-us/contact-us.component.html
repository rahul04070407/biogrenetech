<section class="contact-us">
  <div class="background-shapes">
    <div class="circle"></div>
    <div class="triangle"></div>
    <div class="circle small"></div>
    <div class="triangle small"></div>
  </div>

  <div class="form-container">
    <h2>Book Your Demo</h2>

    <form (ngSubmit)="onSubmit()" #demoForm="ngForm">
      <ng-container *ngFor="let question of questions">
        <div class="form-field" [ngClass]="{ 'full-width': isFullWidth(question) }">
          <label [attr.for]="question.name">{{ question.label }}</label>

          <!-- T: Text or Textarea -->
          <input *ngIf="question.type === 'T' && question.inputType !== 'textarea'"
            [type]="question.inputType || 'text'" class="form-control" [name]="question.name"
            [(ngModel)]="formData[question.name]" [id]="question.name" />

          <textarea *ngIf="question.type === 'T' && question.inputType === 'textarea'" class="form-control" rows="3"
            [name]="question.name" [(ngModel)]="formData[question.name]" [id]="question.name"></textarea>

          <!-- R: Radio -->
          <div *ngIf="question.type === 'R'" class="radio-group">
            <label *ngFor="let opt of question.options" class="radio-option">
              <input type="radio" [name]="question.name" [value]="opt" [(ngModel)]="formData[question.name]" />
              <span>{{ opt }}</span>
            </label>
          </div>

          <!-- C: Checkbox -->
          <div *ngIf="question.type === 'C'" class="checkbox-group">
            <label *ngFor="let opt of question.options" class="checkbox-option">
              <input type="checkbox" [name]="question.name + '_' + opt" [value]="opt"
                (change)="onCheckboxChange($event, question.name)" />
              <span>{{ opt }}</span>
            </label>
          </div>
        </div>
      </ng-container>

      <button type="submit">Submit</button>
    </form>
  </div>
</section>
